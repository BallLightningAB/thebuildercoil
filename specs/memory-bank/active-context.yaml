meta:
  release: 0.1.10.4
  repo: github.com/BallLightningAB/thebuildercoil
  pdd_version: "v0.2"
  current_changes: see specs/current-changes/
guardrails:
  non_goals: []
  constraints: []
  references:
    pdd: specs/memory-bank/thebuildercoil-pdd.yaml
    changelog: specs/memory-bank/CHANGELOG.yaml
  # Legend:
  # - I{issue}D{n}: deliverable n for GitHub issue #{issue} (e.g. I3D3 = Issue #3 Deliverable 3)
  # - I3Docs / I3UI / I3Fix / I3Test / I3Biome: tags for documentation, UI polish, minor fixes, tests and Biome/tooling work not tied to a single deliverable
  roadmap:
    current:
    next_steps:
      - id: chronomation-integration
        issue: "#TBD"
        title: "Integrate with Chronomation API (Phase 2)"
        status: planned
                links:
          issue: ""
          pr: ""
        deliverables: []
        est:
          dev_h: TBD
          test_h: TBD
        sub_issues: []
        remaining_deliverables: []
        progress_log: []
    recent_done:
      - id: balllightning-cloud-prep
        issue: "#9"
        title: "Complete Ball Lightning cloud site rebuild preparation"
        status: done
        links:
          issue: "https://github.com/BallLightningAB/thebuildercoil/issues/9"
          pr: ""
        deliverables:
          - "[I9D1] Define scope and requirements for balllightning.cloud"
          - "[I9D2] Design new site architecture using shared brand system"
          - "[I9D3] Plan core pages (Home, About, Services, Contact)"
          - "[I9D4] Prepare content system for news and updates"
        est:
          dev_h: 0
          test_h: 0
        sub_issues: []
        remaining_deliverables: []
        progress_log:
          - covers: [I9D1] note: "Defined comprehensive scope including brand consistency, service showcase, and integration with shared brand system."
          - covers: [I9D2] note: "Designed architecture using TanStack Start + React 19 with YAML-based brand system references and feed endpoint integration."
          - covers: [I9D3] note: "Planned core pages with wireframes and content structure aligned with Ball Lightning's service offerings."
          - covers: [I9D4] note: "Prepared content system using TBC feed endpoint for news/blog integration and dynamic content updates."
    recent_done:
      - id: balllightning-feed-endpoint
        issue: "#8"
        title: "feat(api): add public feed endpoint for Ball Lightning integration"
        status: done
        links:
          issue: https://github.com/BallLightningAB/thebuildercoil/issues/8
          pr: ""
        deliverables:
          - "[I8D1] Create /api/feed route with GET handler"
          - "[I8D2] Return minimal metadata for blog and news posts"
          - "[I8D3] Add cache headers and CORS support"
          - "[I8D4] Create TypeScript types for BL integration"
        est:
          dev_h: 2
          test_h: 0.5
        sub_issues: []
        remaining_deliverables: []
        progress_log:
          - covers: [I8D1, I8D2] note: "Created /api/feed endpoint using TanStack Start server routes, returning type, title, slug, URL, publishedAt, excerpt, and image metadata."
          - covers: [I8D3] note: "Added cache headers (max-age=300, stale-while-revalidate=600) and CORS (Access-Control-Allow-Origin: *) for CDN optimization and cross-origin consumption."
          - covers: [I8D4] note: "Created feed.types.ts with FeedItem and FeedResponse interfaces for type-safe integration in Ball Lightning."
      - id: codeblock-inline-rendering-fix
        issue: "#7"
        title: "fix(content): render fenced code blocks inline with CodeBlock UI"
        status: done
        links:
          issue: https://github.com/BallLightningAB/thebuildercoil/issues/7
          pr: ""
        deliverables:
          - "[I3Fix] Stop duplicate code rendering and keep CodeBlock UI inline"
        est:
          dev_h: 1
          test_h: 0
        sub_issues: []
        remaining_deliverables: []
        progress_log:
          - covers: [I3Fix] note: "Changed markdown rendering to emit data-post-code-block markers and render Kibo CodeBlock inline on blog/news detail pages (header + copy), removing the duplicate 'Code samples' section."
      - id: schema-markup-improvements
        issue: "#6"
        title: "feat(seo): schema markup improvements (root entity graph + blog/news indexes)"
        status: done
        links:
          issue: https://github.com/BallLightningAB/thebuildercoil/issues/6
          pr: ""
        deliverables:
          - "[I6D1] Add global root entity graph JSON-LD"
          - "[I6D2] Add head() + canonical + JSON-LD to /blog and /news index pages"
          - "[I6D3] Use NewsArticle schema for /news/:slug"
        est:
          dev_h: 2
          test_h: 0
        sub_issues: []
        remaining_deliverables: []
        progress_log:
          - covers: [I6D1] note: "Added global JSON-LD @graph (Organization + WebSite + Product) and emitted it via src/routes/__root.tsx head()."
          - covers: [I6D2] note: "Added head() metadata + canonical + JSON-LD to src/routes/blog/index.tsx and src/routes/news/index.tsx."
          - covers: [I6D3] note: "Switched src/routes/news/$slug.tsx structured data to NewsArticle for semantic accuracy."
      - id: fix-vercel-deployment
        issue: "#5"
        title: "Fix Vercel deployment: content loading, missing images, and initial deploy concerns"
        status: done
        links:
          issue: https://github.com/BallLightningAB/thebuildercoil/issues/5
          pr: ""
        deliverables:
          - "[I5D1] Refactor content loader to use Vite import.meta.glob for serverless"
          - "[I5D2] Wire contact form to Resend email service"
          - "[I5D3] Verify deployment and fix missing images"
        est:
          dev_h: 4
          test_h: 1
        sub_issues: []
        remaining_deliverables: []
        progress_log:
          - covers: [I5D1] note: "Refactored loader-server.ts to use import.meta.glob, moved content to src/data/"
          - covers: [I5D2] note: "Created contact email service and server function, wired contact form"
          - covers: [I5D3] note: "Verified deployment and fixed missing images"
      - id: build-tbc-site-phase1
        issue: "#3"
        title: "Build The Builder Coil Site â€“ Phase 1 (Manual Blog)"
        status: done
        links:
          issue: https://github.com/BallLightningAB/thebuildercoil/issues/3
          pr: ""
        deliverables:
          - "[I3D1] Configure TBC brand colors and typography in styles.css"
          - "[I3D2] Install and configure dark/light mode with shadcn theme provider"
          - "[I3D3] Install Kibo UI theme-switcher"
          - "[I3D4] Create shared layout (header, footer)"
          - "[I3D5] Implement home page with hero and featured posts"
          - "[I3D6] Implement blog index and detail pages"
          - "[I3D7] Implement news section"
          - "[I3D8] Implement about and contact pages"
          - "[I3D9] Set up local JSON content system for posts"
          - "[I3D10] Implement newsletter signup with double opt-in (The Upkeep)"
          - "[I3D11] Configure SEO, meta tags, and sitemap"
        est:
          dev_h: 24
          test_h: 4
        sub_issues:
          - id: memory-bank-organizational-upgrade
            issue: "#4"
            title: "docs(memory-bank): implement ID-based tracking system and usage guide"
            status: done
            links:
              issue: https://github.com/BallLightningAB/thebuildercoil/issues/4
        remaining_deliverables: []
        progress_log:
          - covers: [I3Docs] note: "Created Phase 1 implementation plan and The Upkeep newsletter sub-plan."
          - covers: [I3D1, I3D2, I3D3, I3D4] note: "Set up TBC theming: styles.css colors, theme provider, Kibo switcher, and shared layout."
          - covers: [I3D5, I3D6, I3D7, I3D8, I3D9] note: "Implemented core pages (home/blog/news/about/contact) backed by the local JSON content system."
          - covers: [I3D5, I3D6, I3D7] note: "Refined hero and card presentation: contribution graph, safer hero images, BlogPostCard thumbnails."
          - covers: [I3D2, I3D3, I3D4, I3D6, I3D7] note: "Integrated Kibo ThemeSwitcher and CodeBlock, fixed duplicate keys, documented { post, html, codeBlocks } contract."
          - covers: [I3Biome] note: "Resolved remaining Biome lint issues and unified dark/light card and tag styling."
          - covers: [I3D1] note: "Fixed dark mode prose: TBC cream (#f5e6d3) via prose-cream utility and route updates."
          - covers: [I3D10] note: "Implemented newsletter signup with double opt-in (The Upkeep) and completed Newsletter Phase 1 (v0.1.6)."
          - covers: [I3D11] note: "Configured SEO: meta/OG tags, JSON-LD structured data, sitemap.xml, robots.txt. Phase 1 complete (v0.1.7)."
      - id: Project initialization using the Tanstack Start Builder
        issue: "#1"
        title: Project initialization using the Tanstack Start Builder
        status: done
        links:
          issue: https://github.com/BallLightningAB/thebuildercoil/issues/1
          pr: ""
        deliverables:
          - "[I1D1] Initialized the project using the Tanstack Start Builder"
          - "[I1D2] Designed a new logo"
          - "[I1D3] Adapted the current color scheme to match the new logo in dark and light mode"
          - "[I1D4] Created a gh project"
          - "[I1D5] Repurposed gh labels"
          - "[I1D6] Added the logos + favicon to /public"
          - "[I1D7] Repurpose the secrets-scan pre-commit and workflow for the blightfell-web3-integration project"
          - "[I1D8] Repurpose the memorybank/changelog automation from the blightfell-web3-integration project"
          - "[I1D9] Remove Tanstack Demo components etc"
        est:
          dev_h: 8
          test_h: 0
        progress_log:
          - covers: [I1D1] note: "Initialized the project using the Tanstack Start Builder"
          - covers: [I1D2] note: "Designed a new logo"
          - covers: [I1D3] note: "Adapted the current color scheme to match the new logo in dark and light mode"
          - covers: [I1D4, I1D5] note: "Created a gh project and repurposed gh labels [concatenated]"
          - covers: [I1D6] note: "Added the logos + favicon to /public"
          - covers: [I1D7] note: "Repurpose the secrets-scan pre-commit and workflow for the blightfell-web3-integration project"
          - covers: [I1D8] note: "Repurpose the memorybank/changelog automation from the blightfell-web3-integration project"
          - covers: [I1D9] note: "Remove Tanstack Demo components etc"
      - id: Install dependencies
        issue: "#2"
        title: Install dependencies
        status: done
        links:
          issue: https://github.com/BallLightningAB/thebuildercoil/issues/2
          pr: ""
        deliverables:
          - "[I2D1] install zod"
          - "[I2D2] configure zod add central zod helper"
          - "[I2D3] install ultracite"
          - "[I2D4] configure biome + ultracite"
          - "[I2D5] dependency upgrade pass"
        est:
          dev_h: 4
          test_h: 0
        progress_log:
          - covers: [I2D3, I2D4] note: "Installed Ultracite and upgraded Biome to 2.3.7 using pnpm, then initialized Ultracite configuration (biome.json, tsconfig, editor/editorconfig settings). [concatenated]"
          - covers: [I2D1, I2D2] note: "Installed zod as a shared validation dependency and added central zod helper at src/lib/validation/zod.ts. [concatenated]"
          - covers: [I2D5] note: "Completed initial dependency upgrade pass for TanStack, Tailwind, TypeScript, devtools, and related tooling"
